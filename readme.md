# ЛАБОРАТОРНАЯ РАБОТА №5-6 Обработка файлов и заголовки
## 1. Запись и чтение из файла

1.1. Проанализируйте следующий скрипт
```
<?php
//создание файла
$file = fopen("file.txt", "w") or die("Ошибка создания файла!");
//Вводим данные в файл
fwrite($file, "1. William Smith, 1990, 2344455666677\n");
fwrite($file, "2. John Doe, 1988, 4445556666787\n");
fwrite($file, "3. Michael Brown, 1991, 7748956996777\n");
fwrite($file, "4. David Johnson, 1987, 5556667779999\n");
fwrite($file, "5. Robert Jones, 1992, 99933456678888\n");
//Закрываем файл
fclose($file);
//Открываем файл для добавления данных
$file = fopen("file.txt", "a") or die("Ошибка открытия для добавления
данных!");
if (!$file) {
 echo("Не был найден файл для добавления данных!");
} else {
 // Добавьте в файл с помощью функции fwrite() еще 3 записи

}
fclose($file);
//Открываем файл для чтения из него
$file = fopen("file.txt", "r") or die("Ошибка открытия файла для чтения!");
if (!$file) {
 echo("Не был найден файл для чтения данных!");
} else { ?>
 <div>Данные из файла: </div>
 <?php
 while (!feof($file)) {
 echo fgets($file); ?>
 <br/>
 <?php
 }
 fclose($file);
}
```
* Этот код в переменной $file открывает для записи файл  с названием "file.txt", если файла с таким названием нет то создает новый.
При помощи команда "fwrite" записываюься данные в открытый файл. "fclose" закрывает файл.
Далее добавляет еще несколько записей в тот же файл, открывая его в режиме добавления (режим "a"). После проверки наличия файла, он использует функцию fwrite для добавления трех дополнительных записей. Закрываем файл. Открывает файл для чтения (режим "r") и выводит его содержимое в виде HTML-разметки. Для этого используется цикл while, который считывает строки из файла с помощью функции fgets. Код выполняет проверку на конец файла с помощью feof. После вывода каждой строки он добавляет тег <br/>, чтобы перейти на новую строку. Закрывает файл. 

1.2. Объясните, зачем необходимо закрывать файл fclose()
* Во- первых, при открытии файла операционная система отводит некоторое количество памяти для работы с ним. Если файл не закрыть явно, эти ресурсы могут оставаться занятыми даже после завершения работы программы. Во-вторых, закрытие файла гарантирует завершение всех операций записи и чтения, что важно для того, чтобы данные были записаны полностью и корректно сохранены на диске. В- третьих, предотвращение потери или записи некоректных данных.
1.3. Добавьте в файл с помощью функции fwrite() ещё 3 записи.
```
 fwrite($file, "6. Christopher Lee, 1995, 2223334445556\n");
    fwrite($file, "7. Emily Davis, 1998, 6667778889991\n");
    fwrite($file, "8. Jessica Martinez, 1993, 7778889990002\n");
```
## 2. Запись в файл с помощью функции file_get_contents()
2.1. В задании №1 замените функцию fwrite на file_put_contents()

2.2. Чем отличается функция fwrite и file_put_contents?
* С file_put_contents(), файл открывается, записывается и автоматически закрывается.
* С file_put_contents(), функция возвращает false в случае ошибки записи, но не нужно явно проверять возвращаемое значение, так как обработка ошибок уже встроена в функцию.
* file_put_contents(), будучи более удобной, может быть менее эффективной при работе с большими объемами данных, так как она выполняет всю работу по записи в файл за один вызов.
* file_put_contents() при добавлении данных полностью перезаписывает файл если не указать FILE_APPEND - добавить в конце файла.
